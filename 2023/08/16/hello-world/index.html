<!-- build time:Fri Aug 18 2023 18:02:54 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="sunsaisai" href="http://example.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="sunsaisai" href="http://example.com/atom.xml"><link rel="alternate" type="application/json" title="sunsaisai" href="http://example.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/css/app.css?v=0.2.5"><link rel="canonical" href="http://example.com/2023/08/16/hello-world/"><title>初入前端 多多指教 | Ruan Ruan Sweet Shop = sunsaisai</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">初入前端 多多指教</h1><div class="meta"><span class="item" title="创建时间：2023-08-16 10:47:48"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-08-16T10:47:48+08:00">2023-08-16</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Ruan Ruan Sweet Shop</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://i.loli.net/2020/10/30/rjdhcSgEN8COBPA.jpg"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2023/08/16/hello-world/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/avatar.jpg"><meta itemprop="name" content="sunsaisai"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="sunsaisai"></span><div class="body md" itemprop="articleBody"><h4 id="vxe可编辑表格"><a class="anchor" href="#vxe可编辑表格">#</a> VXE 可编辑表格</h4><pre><code>&lt;vxe-table
                      border
                      max-height=&quot;300&quot;
                      show-overflow
                      ref=&quot;xTable1&quot;
                      @checkbox-change=&quot;selectChangeEvent1&quot;
                      :data=&quot;projectPlantableDataBatch&quot;
                      :column-config=&quot;&#123;resizable: true&#125;&quot;
                      :edit-config=&quot;&#123;trigger: 'dblclick', mode: 'row'&#125;&quot;&gt;
                      &lt;vxe-column type=&quot;seq&quot; width=&quot;60&quot;&gt;&lt;/vxe-column&gt;
                      &lt;vxe-column type=&quot;checkbox&quot; width=&quot;60&quot;&gt;&lt;/vxe-column&gt;

                      &lt;vxe-column field=&quot;displayName&quot; title=&quot;计划名称&quot; &gt;
                        &lt;template #edit=&quot;&#123; row &#125;&quot;&gt;
                          &lt;vxe-input v-model=&quot;row.displayName&quot; type=&quot;text&quot;&gt;&lt;/vxe-input&gt;
                        &lt;/template&gt;
                      &lt;/vxe-column&gt;

                      &lt;vxe-column field=&quot;planLevelInfo&quot; title=&quot;计划等级&quot; :edit-render=&quot;&#123;&#125;&quot;&gt;
                        &lt;template #edit=&quot;&#123; row &#125;&quot;&gt;
                          &lt;vxe-select v-model=&quot;row.planLevelInfo&quot; transfer&gt;
                            &lt;vxe-option v-for=&quot;item in options[0].children&quot; :key=&quot;item.id&quot; :value=&quot;item.name&quot;
                                        :label=&quot;item.name&quot;&gt;&lt;/vxe-option&gt;
                          &lt;/vxe-select&gt;
                        &lt;/template&gt;
                      &lt;/vxe-column&gt;
                      &lt;vxe-column field=&quot;workTime&quot; title=&quot;参考工期(天)&quot; :edit-render=&quot;&#123;&#125;&quot;&gt;
                        &lt;template #edit=&quot;&#123; row &#125;&quot;&gt;
                          &lt;vxe-input v-model=&quot;row.workTime&quot; type=&quot;text&quot; placeholder=&quot;工期&quot;&gt;&lt;/vxe-input&gt;
                        &lt;/template&gt;
                      &lt;/vxe-column&gt;

                      &lt;vxe-column field=&quot;milestone&quot; title=&quot;里程碑&quot; :edit-render=&quot;&#123;&#125;&quot;&gt;
                        &lt;template #edit=&quot;&#123; row &#125;&quot;&gt;
                          &lt;vxe-select v-model=&quot;row.milestone&quot; transfer&gt;
                            &lt;vxe-option v-for=&quot;item in options[1].children&quot; :key=&quot;item.id&quot; :value=&quot;item.name&quot;
                                        :label=&quot;item.name&quot;&gt;&lt;/vxe-option&gt;
                          &lt;/vxe-select&gt;
                        &lt;/template&gt;
                      &lt;/vxe-column&gt;
                    &lt;/vxe-table&gt;
</code></pre><h4 id="map循环"><a class="anchor" href="#map循环">#</a> map 循环</h4><pre><code>this.selectRows.map(item =&gt; &#123; return item.id &#125;).join(',')
</code></pre><h4 id="formatter组件时间"><a class="anchor" href="#formatter组件时间">#</a> formatter 组件时间</h4><p>1. 下载导入 npm install moment --save<br>2. 组件：formatter=&quot;formatData&quot;<br>3. 导入：import moment from&quot;moment&quot;<br>4. // 表格内日期格式化</p><pre><code>      formatData(row, column)&#123;
        var date = row[column.property];
        if(date === undefined)&#123;
          return ''
        &#125;
        return moment(date).format(&quot;YYYY-MM-DD HH:mm:ss&quot;)
      &#125;,
</code></pre><ol start="5"><li>// 时间戳格式转换</li></ol><pre><code> timeStampToYyyymmdd (stamp) &#123;
        if (stamp != undefined || stamp != '') &#123;
          let date = new Date(stamp)
          let year = date.getFullYear()
          let month = date.getMonth() + 1
          let day = date.getDate()
          month = month &lt; 10 ? '0' + month : month
          day = day &lt; 10 ? '0' + day : day
          let t_date = year + '-' + month + '-' + day
          return t_date
        &#125; else &#123;
          let t_date = ''
          return t_date
        &#125;

      &#125;,
</code></pre><h4 id="搜索收缩与展开头部搜索"><a class="anchor" href="#搜索收缩与展开头部搜索">#</a> 搜索收缩与展开（头部搜索）</h4><pre><code> &lt;div class=&quot;search_form&quot;&gt;
      &lt;div class=&quot;search_form_show&quot;&gt;
        &lt;el-row&gt;
          &lt;el-col :span=&quot;8&quot;&gt;
            &lt;span class=&quot;left_search&quot;&gt;项目编号&lt;/span&gt;
            &lt;el-input v-model=&quot;searchData.projectNum&quot; placeholder=&quot;项目编号&quot;&gt;&lt;/el-input&gt;
          &lt;/el-col&gt;
          &lt;el-col :span=&quot;8&quot;&gt;
            &lt;span class=&quot;left_search&quot;&gt;项目名称&lt;/span&gt;
            &lt;el-input v-model=&quot;searchData.projectName&quot; placeholder=&quot;项目名称&quot;&gt;&lt;/el-input&gt;
          &lt;/el-col&gt;
          &lt;el-col :span=&quot;8&quot;&gt;
            &lt;span class=&quot;left_search&quot;&gt;项目经理&lt;/span&gt;
            &lt;el-input v-model=&quot;searchData.projectManager&quot; placeholder=&quot;项目经理&quot;&gt;&lt;/el-input&gt;
          &lt;/el-col&gt;
        &lt;/el-row&gt;
      &lt;/div&gt;
      &lt;collapse&gt;
        &lt;div class=&quot;search_form_hidden&quot; v-show=&quot;searchOpen&quot;&gt;
          &lt;el-row&gt;
            &lt;el-col :span=&quot;8&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;阶段&lt;/span&gt;
              &lt;el-select v-model=&quot;searchData.stage&quot; placeholder=&quot;全部&quot; @change=&quot;changeProjectStage&quot; multiple :clearable=&quot;true&quot;&gt;
                &lt;el-option
                  v-for=&quot;item in phaseList&quot;
                  :key=&quot;item.id&quot;
                  :label=&quot;item.name&quot;
                  :value=&quot;item.id&quot;&gt;
                &lt;/el-option&gt;
              &lt;/el-select&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;8&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;状态&lt;/span&gt;
              &lt;el-select v-model=&quot;searchData.state&quot; placeholder=&quot;全部&quot; multiple :clearable=&quot;true&quot;&gt;
                &lt;el-option
                  v-for=&quot;item in statusList&quot;
                  :key=&quot;item.name&quot;
                  :label=&quot;item.title&quot;
                  :value=&quot;item.name&quot;&gt;
                &lt;/el-option&gt;
              &lt;/el-select&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;8&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;项目分类&lt;/span&gt;
              &lt;el-select v-model=&quot;searchData.projectType&quot; placeholder=&quot;全部&quot; multiple @change=&quot;changeProjectTypeList&quot;&gt;
                &lt;el-option
                  v-for=&quot;item in projectTypeList&quot;
                  :key=&quot;item.id&quot;
                  :label=&quot;item.name&quot;
                  :value=&quot;item.id&quot;&gt;
                &lt;/el-option&gt;
              &lt;/el-select&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;8&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;进度&lt;/span&gt;
              &lt;el-input v-model=&quot;searchData.process&quot; placeholder=&quot;进度&quot;&gt;&lt;/el-input&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;16&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;创建时间&lt;/span&gt;
              &lt;el-date-picker
                v-model=&quot;searchData.createTime&quot;
                type=&quot;daterange&quot;
                range-separator=&quot;-&quot;
                value-format=&quot;yyyy-MM-dd&quot;
                start-placeholder=&quot;开始日期&quot;
                end-placeholder=&quot;结束日期&quot;
                @change=&quot;changeProjectTime&quot;&gt;
              &lt;/el-date-picker&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;8&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;创建者&lt;/span&gt;
              &lt;el-input v-model=&quot;searchData.createName&quot; placeholder=&quot;创建者&quot;&gt;&lt;/el-input&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;16&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;开始时间&lt;/span&gt;
              &lt;el-date-picker
                v-model=&quot;searchData.startTime&quot;
                type=&quot;daterange&quot;
                value-format=&quot;yyyy-MM-dd&quot;
                range-separator=&quot;-&quot;
                start-placeholder=&quot;开始日期&quot;
                end-placeholder=&quot;结束日期&quot;&gt;
              &lt;/el-date-picker&gt;
            &lt;/el-col&gt;
            &lt;el-col :span=&quot;16&quot;&gt;
              &lt;span class=&quot;left_search&quot;&gt;结束时间&lt;/span&gt;
              &lt;el-date-picker
                v-model=&quot;searchData.finishTime&quot;
                type=&quot;daterange&quot;
                range-separator=&quot;-&quot;
                value-format=&quot;yyyy-MM-dd&quot;
                start-placeholder=&quot;开始日期&quot;
                end-placeholder=&quot;结束日期&quot;&gt;
              &lt;/el-date-picker&gt;
            &lt;/el-col&gt;
          &lt;/el-row&gt;
        &lt;/div&gt;
      &lt;/collapse&gt;
      &lt;i class=&quot;el-icon-caret-bottom btn&quot; v-if=&quot;!searchOpen&quot; @click=&quot;searchOpen = !searchOpen&quot;&gt;&lt;/i&gt;
      &lt;i class=&quot;el-icon-caret-top btn&quot; v-if=&quot;searchOpen&quot; @click=&quot;searchOpen = !searchOpen&quot;&gt;&lt;/i&gt;
    &lt;/div&gt;

   // 是否展开高级搜索
        searchOpen: false,
</code></pre><h4 id="element-ui-时间选择组件返回2032-02-13"><a class="anchor" href="#element-ui-时间选择组件返回2032-02-13">#</a> element-ui 时间选择组件返回 [2032-02-13]</h4><pre><code>     &lt;el-row&gt;
         &lt;el-col :span=&quot;16&quot;&gt;
          &lt;span class=&quot;left_search&quot;&gt;结束时间&lt;/span&gt;
          &lt;el-date-picker
            v-model=&quot;searchData.finishTime&quot;
            type=&quot;daterange&quot;
            range-separator=&quot;-&quot;
            format=&quot;yyyy 年 MM 月 dd 日&quot;
            value-format=&quot;yyyy-MM-dd&quot;
            start-placeholder=&quot;开始日期&quot;
            end-placeholder=&quot;结束日期&quot;&gt;
          &lt;/el-date-picker&gt;
        &lt;/el-col&gt;
      &lt;/el-row&gt;
</code></pre><h4 id="树状图右键事件"><a class="anchor" href="#树状图右键事件">#</a> 树状图右键事件</h4><pre><code>//项目库的右键事件
      handleRightClick (event, data, row) &#123;
        this.treeMainId = data.id
        this.treeDataId = data.pid
        this.updateTreeName = data.name
        this.$nextTick(() =&gt; &#123;
          this.$refs.treeRef.setCurrentKey(data.id) //一定要加这个选中了否则样式没有出来
        &#125;)
        var menu = document.querySelector('#menu')
        event.preventDefault()
        //获取自定义的右键菜单

        // 根据事件对象中鼠标点击的位置，进行定位
        menu.style.left = event.clientX - 358 + 'px'
        menu.style.top = event.clientY - 138 + 'px'
        // 改变自定义菜单的隐藏与显示
        menu.style.display = 'block'
        // 获取当前右键点击table下标
        this.treeData.forEach((item, index) =&gt; &#123;
          if (item.id === row.id) &#123;
            //这里判断相等的条件为该行数据的唯一键
            this.currentRowIndex = index
            return false
          &#125;
        &#125;)
        // this.setCurrent(row)
      &#125;,
</code></pre><h4 id="对象形式的数组转换字符串"><a class="anchor" href="#对象形式的数组转换字符串">#</a> 对象形式的数组转换字符串</h4><pre><code>JSON.stringify(this.tableData7)
</code></pre><h4 id="浅拷贝"><a class="anchor" href="#浅拷贝">#</a> // 浅拷贝</h4><p></p><pre><code>   Object.assign(this.AddNewListData, row)
</code></pre><h4 id="下载错误报告"><a class="anchor" href="#下载错误报告">#</a> // 下载错误报告</h4><p></p><pre><code>  downloadErrorReport (row) &#123;
      console.log(JSON.stringify(row))
      var oReq = new XMLHttpRequest()
      let formData = new FormData()
      formData.append('dataListAndErrorMap', JSON.stringify(row))
      // http://sep.glaway.com/ids-review-web/reviewFactorTemplateController.do?downErrorReport
      oReq.open('POST', process.env.VUE_APP_BASE_API + '/reviewFactorTemplateController/downErrorReport.do', true)
      oReq.setRequestHeader('ReachToken', store.state.base.token)
      oReq.responseType = 'blob'
      oReq.send(formData)
      oReq.onload = function (oEvent) &#123;
        var content = oReq.response
        var elink = document.createElement('a')
        elink.download = '评审要素模板导入_错误报告.xlsx'
        elink.style.display = 'none'
        var blob = new Blob([content])
        elink.href = URL.createObjectURL(blob)
        document.body.appendChild(elink)
        elink.click()
        document.body.removeChild(elink)
      &#125;
    &#125;
</code></pre><h4 id="将回调延迟到-下次dom更新周期-之后执行"><a class="anchor" href="#将回调延迟到-下次dom更新周期-之后执行">#</a> 将回调延迟到 下次 DOM 更新周期 之后执行</h4><pre><code> this.$nextTick(() =&gt; &#123;
        this.$refs.addfrom.resetFields()
      &#125;)
</code></pre><h4 id="下载文件"><a class="anchor" href="#下载文件">#</a> 下载文件</h4><pre><code>outDown()&#123;
      var oReq = new XMLHttpRequest()
      let fileName = '风险问题导入模板.xls'
      let filePath = 'projectLibrary/attachment/203e81769ddd405e932fc2d3061d1a97_1645665313661.xls'
      oReq.open('GET', process.env.VUE_APP_BASE_API + '/jackrabbitFileController.do?fileDown=&amp;fileName=' + fileName + '&amp;filePath=' + filePath, true)
      oReq.setRequestHeader('ReachToken', store.state.base.token)
      oReq.responseType = 'blob'
      oReq.onload = function (oEvent) &#123;
        var content = oReq.response
        var elink = document.createElement('a')
        elink.download = '风险指标' + dateFormat('YYYYmmdd', new Date()) + '.xls'
        elink.style.display = 'none'
        var blob = new Blob([content])
        elink.href = URL.createObjectURL(blob)
        document.body.appendChild(elink)
        elink.click()
        document.body.removeChild(elink)
      &#125;
      oReq.send()
    &#125;
</code></pre><h4 id="树状结构"><a class="anchor" href="#树状结构">#</a> 树状结构</h4><pre><code>&lt;el-tree :data=&quot;datalibrary&quot;
                           :default-expand-all=&quot;true&quot;
                           :props=&quot;defaultPropslibrary&quot;
                           @node-click=&quot;handleNodeClicklibrary&quot;
                           :expand-on-click-node=&quot;false&quot;
                           :highlight-current=&quot;true&quot;
                           node-key=&quot;id&quot;&gt;
              &lt;span class=&quot;custom-tree-node&quot; slot-scope=&quot;&#123; node, data &#125;&quot;&gt;
                &lt;i :class=&quot;data.icon&quot; style=&quot;color: blue; margin-right: 2px&quot;&gt;&lt;/i&gt;
                &lt;span&gt;&#123;&#123; node.label &#125;&#125;&lt;/span&gt;&lt;/span&gt;
                  &lt;/el-tree&gt;

//属性
drawerlibrary: true,  //箭头按钮显示与隐藏
  // 配置树形结构属性参数
      defaultPropslibrary: &#123;
        children: 'children',
        label: 'name'
      &#125;,
 folderId: 0, //用来保存选中的节点ID
datalibrary: [],


//方法
 handleNodeClicklibrary (data) &#123;
      console.log(data)
    &#125;,// 项目库树状接口
    getProjectLibTree () &#123;
      //清空树状列表
      this.datalibrary=[]
      getProjLibTree(&#123; projectId: this.transferProjectSonId.id, teamId: this.teamId, treeType: 0 &#125;).then(res =&gt; &#123;
        // JSON字符串转对象数组
        let dataArr = JSON.parse(res)
        console.log('*****************')
        console.log(dataArr)
        dataArr.forEach(val =&gt; &#123;
          dataArr.forEach(val2 =&gt; &#123;
            if (val2.pid === val.id) &#123;
              if (!val.children) &#123;
                val2.projectName = val.name
                val2.icon = 'el-icon-folder'
                val.children = [val2]
              &#125; else &#123;
                val.icon= 'el-icon-folder'
                val2.icon = 'el-icon-folder'
                val.children.push(val2)
              &#125;
            &#125;else &#123;
              val.icon = 'el-icon-folder'
            &#125;
          &#125;)
        &#125;)
        let temp = []
        temp = dataArr[0]
        this.datalibrary.push(temp)
        // 初始化默认设置第一个父节点ID
        this.folderId = dataArr[0].id
      &#125;)
    &#125;,


css
.custom-tree-node&#123;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
&#125;
</code></pre><h4 id="数组循环树状下拉框"><a class="anchor" href="#数组循环树状下拉框">#</a> 数组循环树状下拉框</h4><pre><code>           //   定义下拉框
             &lt;el-row&gt;
                &lt;el-col :span=&quot;12&quot; class=&quot;addResourcesSelect&quot;&gt;
                  &lt;span class=&quot;left_search&quot; style=&quot;margin-left: -20px&quot;&gt;分类&lt;/span&gt;
                    &lt;el-cascader
                      v-model=&quot;addResourcesForm.type&quot; //绑定相应的组件
                      :options=&quot;resourcesOptions&quot;      //定义存放的数据
                      :props=&quot;defaultProps&quot;              //绑定子组件传参时的需求
                      @change=&quot;handleChange&quot;&gt;
                    &lt;/el-cascader&gt;
                &lt;/el-col&gt;
              &lt;/el-row&gt;


//定义子组件传参时的需求
 defaultProps: &#123;
          children: 'children',
          label: 'name'
        &#125;,

 // 资源下拉框数据
        resourcesOptions: [],
//接口获取数据以及forEach循环，，其中treename是循环得出的，在下一级能看到
       combotree(&#123;&#125;).then(res =&gt; &#123;
          console.log('进入')
          console.log(res)
          res.forEach(val =&gt; &#123;
            console.log(val)
            res.forEach(val2 =&gt; &#123;
              console.log(val2)
              console.log('val2')
              if (val2.pid === val.id) &#123;
                if (!val.children) &#123;
                  val2.treename = val.name
                  val.children = [val2]
                &#125; else &#123;
                  val2.treename = val.name
                  val.children.push(val2)
                &#125;
              &#125;
            &#125;)
          &#125;)
          let temp = []
          console.log('2/28日树状')
          temp = res[0] //定义顶层树状
          this.resourcesOptions.push(temp)//为数据组添加数据
          console.log('treeoptions')
          console.log(this.resourcesOptions)
        &#125;)
</code></pre></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-08-18 16:49:36" itemprop="dateModified" datetime="2023-08-18T16:49:36+08:00">2023-08-18</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/wechatpay.png" alt="sunsaisai 微信支付"><p>微信支付</p></div><div><img data-src="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/alipay.png" alt="sunsaisai 支付宝"><p>支付宝</p></div><div><img data-src="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/paypal.png" alt="sunsaisai 贝宝"><p>贝宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>sunsaisai <i class="ic i-at"><em>@</em></i>sunsaisai</li><li class="link"><strong>本文链接：</strong> <a href="http://example.com/2023/08/16/hello-world/" title="初入前端 多多指教">http://example.com/2023/08/16/hello-world/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2020/08/13/computer-science/note/theme-shoka-doc/special/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;10&#x2F;30&#x2F;Z5W6r2BSoiThHG1.jpg" title="Step.4 主题特殊功能"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Theme Shoka Documentation</span><h3>Step.4 主题特殊功能</h3></a></div><div class="item right"><a href="/2023/08/18/test/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;i.loli.net&#x2F;2020&#x2F;10&#x2F;30&#x2F;Z5W6r2BSoiThHG1.jpg" title="奥里给"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i></span><h3>奥里给</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#vxe%E5%8F%AF%E7%BC%96%E8%BE%91%E8%A1%A8%E6%A0%BC"><span class="toc-number">1.</span> <span class="toc-text">VXE 可编辑表格</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map%E5%BE%AA%E7%8E%AF"><span class="toc-number">2.</span> <span class="toc-text">map 循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#formatter%E7%BB%84%E4%BB%B6%E6%97%B6%E9%97%B4"><span class="toc-number">3.</span> <span class="toc-text">formatter 组件时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%94%B6%E7%BC%A9%E4%B8%8E%E5%B1%95%E5%BC%80%E5%A4%B4%E9%83%A8%E6%90%9C%E7%B4%A2"><span class="toc-number">4.</span> <span class="toc-text">搜索收缩与展开（头部搜索）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#element-ui-%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E7%BB%84%E4%BB%B6%E8%BF%94%E5%9B%9E2032-02-13"><span class="toc-number">5.</span> <span class="toc-text">element-ui 时间选择组件返回 [2032-02-13]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E7%8A%B6%E5%9B%BE%E5%8F%B3%E9%94%AE%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">树状图右键事件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%BD%A2%E5%BC%8F%E7%9A%84%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">7.</span> <span class="toc-text">对象形式的数组转换字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">8.</span> <span class="toc-text">&#x2F;&#x2F; 浅拷贝</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E9%94%99%E8%AF%AF%E6%8A%A5%E5%91%8A"><span class="toc-number">9.</span> <span class="toc-text">&#x2F;&#x2F; 下载错误报告</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%86%E5%9B%9E%E8%B0%83%E5%BB%B6%E8%BF%9F%E5%88%B0-%E4%B8%8B%E6%AC%A1dom%E6%9B%B4%E6%96%B0%E5%91%A8%E6%9C%9F-%E4%B9%8B%E5%90%8E%E6%89%A7%E8%A1%8C"><span class="toc-number">10.</span> <span class="toc-text">将回调延迟到 下次 DOM 更新周期 之后执行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6"><span class="toc-number">11.</span> <span class="toc-text">下载文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%91%E7%8A%B6%E7%BB%93%E6%9E%84"><span class="toc-number">12.</span> <span class="toc-text">树状结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%BE%AA%E7%8E%AF%E6%A0%91%E7%8A%B6%E4%B8%8B%E6%8B%89%E6%A1%86"><span class="toc-number">13.</span> <span class="toc-text">数组循环树状下拉框</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="sunsaisai" data-src="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/images/avatar.jpg"><p class="name" itemprop="name">sunsaisai</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">9</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">5</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">2</span> <span class="name">标签</span></a></div></nav><div class="social"></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2020/08/13/computer-science/note/theme-shoka-doc/special/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2023/08/18/test/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/2023/08/16/hello-world/" title="初入前端 多多指教">初入前端 多多指教</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/" title="分类于 二进制杂谈">二进制杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/Theme-Shoka-Documentation/" title="分类于 Theme Shoka Documentation">Theme Shoka Documentation</a></div><span><a href="/2020/08/13/computer-science/note/theme-shoka-doc/dependents/" title="Step.1 依赖插件">Step.1 依赖插件</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/" title="分类于 二进制杂谈">二进制杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/Theme-Shoka-Documentation/" title="分类于 Theme Shoka Documentation">Theme Shoka Documentation</a></div><span><a href="/2020/08/13/computer-science/note/theme-shoka-doc/config/" title="Step.2 基本配置">Step.2 基本配置</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/" title="分类于 二进制杂谈">二进制杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/Theme-Shoka-Documentation/" title="分类于 Theme Shoka Documentation">Theme Shoka Documentation</a></div><span><a href="/2020/08/13/computer-science/note/theme-shoka-doc/display/" title="Step.3 界面显示">Step.3 界面显示</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/" title="分类于 二进制杂谈">二进制杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/Theme-Shoka-Documentation/" title="分类于 Theme Shoka Documentation">Theme Shoka Documentation</a></div><span><a href="/2020/08/13/computer-science/note/theme-shoka-doc/special/" title="Step.4 主题特殊功能">Step.4 主题特殊功能</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/2023/08/18/test/" title="奥里给">奥里给</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/course-1/" title="分类于 零基础学Java语言-浙江大学-翁恺">零基础学Java语言-浙江大学-翁恺</a></div><span><a href="/2020/04/12/computer-science/java/course-1/week-1/" title="第1周 计算">第1周 计算</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/" title="分类于 二进制杂谈">二进制杂谈</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/note/Theme-Shoka-Documentation/" title="分类于 Theme Shoka Documentation">Theme Shoka Documentation</a></div><span><a href="/2020/08/13/computer-science/note/theme-shoka-doc/" title="Hexo主题Shoka &amp; multi-markdown-it渲染器使用说明">Hexo主题Shoka & multi-markdown-it渲染器使用说明</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="分类于 计算机科学">计算机科学</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/" title="分类于 Java">Java</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/java/course-1/" title="分类于 零基础学Java语言-浙江大学-翁恺">零基础学Java语言-浙江大学-翁恺</a></div><span><a href="/2020/04/13/computer-science/java/course-1/week-2/" title="第2周 判断">第2周 判断</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">sunsaisai @ Ruan Ruan Sweet Shop</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"2023/08/16/hello-world/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="//cdn.jsdelivr.net/gh/sunsaisai0/sunsaisai0.github.io@latest/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->